<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Forgot Password - Electro</title>

		<!-- Google font -->
		<link href="https://fonts.googleapis.com/css?family=Montserrat:400,500,700" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">

		<!-- Bootstrap -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
		
		<!-- Font Awesome Icon -->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

		<!-- Custom stlylesheet -->
		<link type="text/css" rel="stylesheet" href="css/style.css"/>

		<style>
			.auth-container {
				min-height: 100vh;
				background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
				display: flex;
				align-items: center;
				justify-content: center;
				padding: 20px;
			}

			.auth-card {
				background: white;
				border-radius: 15px;
				box-shadow: 0 15px 35px rgba(0,0,0,0.1);
				overflow: hidden;
				max-width: 400px;
				width: 100%;
			}

			.auth-header {
				background: linear-gradient(45deg, #667eea, #764ba2);
				color: white;
				padding: 30px;
				text-align: center;
			}

			.auth-header h2 {
				margin: 0;
				font-weight: 700;
				font-size: 28px;
			}

			.auth-body {
				padding: 40px 30px;
			}

			.form-group {
				margin-bottom: 25px;
			}

			.form-control {
				border: 2px solid #e1e5e9;
				border-radius: 8px;
				padding: 12px 15px;
				font-size: 16px;
				transition: all 0.3s ease;
			}

			.form-control:focus {
				border-color: #667eea;
				box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.25);
			}

			.btn-reset {
				background: linear-gradient(45deg, #667eea, #764ba2);
				border: none;
				border-radius: 8px;
				padding: 12px;
				font-size: 16px;
				font-weight: 600;
				color: white;
				width: 100%;
				transition: all 0.3s ease;
			}

			.btn-reset:hover {
				transform: translateY(-2px);
				box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
			}

			.auth-footer {
				text-align: center;
				padding: 20px 30px;
				border-top: 1px solid #e1e5e9;
			}

			.auth-footer a {
				color: #667eea;
				text-decoration: none;
				font-weight: 600;
			}

			.auth-footer a:hover {
				text-decoration: underline;
			}

			.alert {
				border-radius: 8px;
				margin-bottom: 20px;
			}

			.info-box {
				background: #f8f9fa;
				border: 1px solid #e1e5e9;
				border-radius: 8px;
				padding: 20px;
				margin-bottom: 20px;
			}

			.info-box i {
				color: #667eea;
				margin-right: 10px;
			}

			.steps {
				margin-top: 20px;
			}

			.step {
				display: flex;
				align-items: center;
				margin-bottom: 15px;
				padding: 10px;
				background: #f8f9fa;
				border-radius: 8px;
			}

			.step-number {
				width: 30px;
				height: 30px;
				background: #667eea;
				color: white;
				border-radius: 50%;
				display: flex;
				align-items: center;
				justify-content: center;
				font-weight: bold;
				margin-right: 15px;
			}

			.step-text {
				flex: 1;
			}
		</style>
	</head>

	<body>
		<div class="auth-container">
			<div class="auth-card">
				<div class="auth-header">
					<h2><i class="fa fa-key"></i> Reset Password</h2>
					<p style="margin: 10px 0 0 0; opacity: 0.9;">Enter your email to reset your password</p>
				</div>

				<div class="auth-body">
					<div id="alert-container"></div>

					<div class="info-box">
						<i class="fa fa-info-circle"></i>
						<strong>Forgot your password?</strong>
						<p style="margin: 10px 0 0 0; color: #666;">
							No worries! Enter your email address and we'll send you a link to reset your password.
						</p>
					</div>

					<form id="resetForm">
						<div class="form-group">
							<label for="email">Email Address</label>
							<input type="email" class="form-control" id="email" name="email" required>
						</div>

						<button type="submit" class="btn btn-reset">
							<i class="fa fa-paper-plane"></i> Send Reset Link
						</button>
					</form>

					<div class="steps">
						<h5><strong>How it works:</strong></h5>
						<div class="step">
							<div class="step-number">1</div>
							<div class="step-text">Enter your email address above</div>
						</div>
						<div class="step">
							<div class="step-number">2</div>
							<div class="step-text">Check your email for a reset link</div>
						</div>
						<div class="step">
							<div class="step-number">3</div>
							<div class="step-text">Click the link to create a new password</div>
						</div>
					</div>
				</div>

				<div class="auth-footer">
					<p>Remember your password? <a href="login.html">Login here</a></p>
					<p>Don't have an account? <a href="register.html">Sign up here</a></p>
				</div>
			</div>
		</div>

		<!-- jQuery -->
		<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
		
		<!-- Bootstrap -->
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

		<script>
			// Demo users for testing
			const demoUsers = [
				'admin@electro.com',
				'user@electro.com',
				'demo@electro.com'
			];

			function showAlert(message, type = 'info') {
				const alertContainer = document.getElementById('alert-container');
				const alertClass = type === 'error' ? 'alert-danger' : type === 'success' ? 'alert-success' : 'alert-info';
				
				alertContainer.innerHTML = `
					<div class="alert ${alertClass} alert-dismissible">
						<button type="button" class="close" data-dismiss="alert">&times;</button>
						${message}
					</div>
				`;
			}

			function validateEmail(email) {
				const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
				return re.test(email);
			}

			function simulateEmailSending(email) {
				return new Promise((resolve) => {
					// Simulate API call delay
					setTimeout(() => {
						resolve({
							success: true,
							message: `Reset link sent to ${email}`
						});
					}, 2000);
				});
			}

			document.getElementById('resetForm').addEventListener('submit', async function(e) {
				e.preventDefault();
				
				const email = document.getElementById('email').value;

				// Validation
				if (!validateEmail(email)) {
					showAlert('Please enter a valid email address', 'error');
					return;
				}

				// Check if email exists (demo)
				if (!demoUsers.includes(email)) {
					showAlert('Email address not found in our system', 'error');
					return;
				}

				// Disable form during submission
				const submitBtn = this.querySelector('button[type="submit"]');
				const originalText = submitBtn.innerHTML;
				submitBtn.innerHTML = '<i class="fa fa-spinner fa-spin"></i> Sending...';
				submitBtn.disabled = true;

				try {
					// Simulate sending reset email
					const result = await simulateEmailSending(email);
					
					if (result.success) {
						showAlert(result.message, 'success');
						
						// Show additional instructions
						setTimeout(() => {
							showAlert(`
								<div>
									<h5><strong>Check your email!</strong></h5>
									<p>We've sent a password reset link to <strong>${email}</strong></p>
									<p><small>Demo: In a real application, you would receive an email with a reset link.</small></p>
								</div>
							`, 'info');
						}, 1000);
					}
				} catch (error) {
					showAlert('Failed to send reset email. Please try again.', 'error');
				} finally {
					// Re-enable form
					submitBtn.innerHTML = originalText;
					submitBtn.disabled = false;
				}
			});

			// Check if user is already logged in
			window.addEventListener('load', function() {
				const user = JSON.parse(localStorage.getItem('user'));
				if (user) {
					showAlert('You are already logged in. Redirecting...', 'info');
					setTimeout(() => {
						window.location.href = 'index.html';
					}, 1500);
				}
			});
		</script>
	</body>
</html> 